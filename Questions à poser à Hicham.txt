Questions à poser à Hicham


1) La variable Cluster : plusieurs clusters dans un état ? mais contraire à docu. Réponse : dans chaque state, ya plusieurs clusters

2) Indemnity level : comment est-ce déterminé ? A quoi sert la loss ?

3) Pertinence des divisions administratives autres que clusters


Remarques diverses :

- une ligne dans le dataset, autrement dit une "donnéeé, ça correspond à une parcelle de culture (A VERIFIER)



#Définition de la fonction add_Loss 
def add_Loss(df,year):
    """return a new_df with a new collumn Loss"""
    Y=np.array([df[f'{YEAR} Yield'] for YEAR in np.arange(year-6,year+1)])
    theta=np.array(df["Indemnity Level"])
    index=np.argpartition(Y,2,axis=0)
    Y=Y[index[2:]]
    Y=Y[:,:,0]
    threshold=np.mean(Y, axis=0)*theta
    S=np.array(df["Sum Insured (Inr)"])
    L=np.sum(S*np.maximum(np.zeros(Y.shape),threshold-Y)/threshold,axis=0)
    new_df=df
    new_df["Loss"]=L
    return new_df